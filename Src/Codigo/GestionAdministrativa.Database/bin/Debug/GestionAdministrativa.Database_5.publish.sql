/*
Deployment script for RemisesApipe.GestionAdministrativa

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "RemisesApipe.GestionAdministrativa"
:setvar DefaultFilePrefix "RemisesApipe.GestionAdministrativa"
:setvar DefaultDataPath "C:\Program Files\Microsoft SQL Server\MSSQL11.MSSQLSERVER\MSSQL\DATA\"
:setvar DefaultLogPath "C:\Program Files\Microsoft SQL Server\MSSQL11.MSSQLSERVER\MSSQL\DATA\"

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [$(DatabaseName)];


GO
/*
The column [dbo].[Choferes].[OperadorAltaId] on table [dbo].[Choferes] must be added, but the column has no default value and does not allow NULL values. If the table contains data, the ALTER script will not work. To avoid this issue you must either: add a default value to the column, mark it as allowing NULL values, or enable the generation of smart-defaults as a deployment option.

The column [dbo].[Choferes].[SucursalAltaId] on table [dbo].[Choferes] must be added, but the column has no default value and does not allow NULL values. If the table contains data, the ALTER script will not work. To avoid this issue you must either: add a default value to the column, mark it as allowing NULL values, or enable the generation of smart-defaults as a deployment option.
*/

IF EXISTS (select top 1 1 from [dbo].[Choferes])
    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
/*
The column [dbo].[Moviles].[FechaAlta] on table [dbo].[Moviles] must be added, but the column has no default value and does not allow NULL values. If the table contains data, the ALTER script will not work. To avoid this issue you must either: add a default value to the column, mark it as allowing NULL values, or enable the generation of smart-defaults as a deployment option.

The column [dbo].[Moviles].[OperadorAltaId] on table [dbo].[Moviles] must be added, but the column has no default value and does not allow NULL values. If the table contains data, the ALTER script will not work. To avoid this issue you must either: add a default value to the column, mark it as allowing NULL values, or enable the generation of smart-defaults as a deployment option.

The column [dbo].[Moviles].[SucursalAltaId] on table [dbo].[Moviles] must be added, but the column has no default value and does not allow NULL values. If the table contains data, the ALTER script will not work. To avoid this issue you must either: add a default value to the column, mark it as allowing NULL values, or enable the generation of smart-defaults as a deployment option.
*/

IF EXISTS (select top 1 1 from [dbo].[Moviles])
    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
/*
The column [dbo].[TiposCelulares].[FechaAlta] on table [dbo].[TiposCelulares] must be added, but the column has no default value and does not allow NULL values. If the table contains data, the ALTER script will not work. To avoid this issue you must either: add a default value to the column, mark it as allowing NULL values, or enable the generation of smart-defaults as a deployment option.

The column [dbo].[TiposCelulares].[OperadorAltaId] on table [dbo].[TiposCelulares] must be added, but the column has no default value and does not allow NULL values. If the table contains data, the ALTER script will not work. To avoid this issue you must either: add a default value to the column, mark it as allowing NULL values, or enable the generation of smart-defaults as a deployment option.

The column [dbo].[TiposCelulares].[SucursalAltaId] on table [dbo].[TiposCelulares] must be added, but the column has no default value and does not allow NULL values. If the table contains data, the ALTER script will not work. To avoid this issue you must either: add a default value to the column, mark it as allowing NULL values, or enable the generation of smart-defaults as a deployment option.
*/

IF EXISTS (select top 1 1 from [dbo].[TiposCelulares])
    RAISERROR (N'Rows were detected. The schema update is terminating because data loss might occur.', 16, 127) WITH NOWAIT

GO
PRINT N'Rename refactoring operation with key c14adf76-5281-4638-be10-ee6b10424823 is skipped, element [dbo].[Celulares].[OperadorAlta] (SqlSimpleColumn) will not be renamed to OperadorAltaId';


GO
PRINT N'Rename refactoring operation with key ac18853e-bc55-455c-a1b0-0df30fbce0b0 is skipped, element [dbo].[Celulares].[SucursalAlta] (SqlSimpleColumn) will not be renamed to SucursalAltaId';


GO
PRINT N'Rename refactoring operation with key 77328312-57cd-43f9-96d5-488c029dcf84, 24735177-edf4-4055-9f7b-328b374e6c87 is skipped, element [dbo].[Choferes].[SucursalModificacion] (SqlSimpleColumn) will not be renamed to SucursalModificacionId';


GO
PRINT N'The following operation was generated from a refactoring log file c2ea8ddd-0d83-41a2-87e5-4e5fe7387493';

PRINT N'Rename [dbo].[Celulares].[FechaAlta] to Alta';


GO
EXECUTE sp_rename @objname = N'[dbo].[Celulares].[FechaAlta]', @newname = N'Alta', @objtype = N'COLUMN';


GO
PRINT N'The following operation was generated from a refactoring log file 240c23ec-daf2-4d39-9726-a97701ced323';

PRINT N'Rename [dbo].[Celulares].[FechaBaja] to Baja';


GO
EXECUTE sp_rename @objname = N'[dbo].[Celulares].[FechaBaja]', @newname = N'Baja', @objtype = N'COLUMN';


GO
PRINT N'Rename refactoring operation with key 784b2354-fdb0-42dd-b933-36bfad4b6e7e is skipped, element [dbo].[TiposCelulares].[OperadorModificacionId] (SqlSimpleColumn) will not be renamed to FechaModificacion';


GO
PRINT N'Altering [dbo].[Celulares]...';


GO
ALTER TABLE [dbo].[Celulares]
    ADD [OperadorAltaId]         UNIQUEIDENTIFIER NULL,
        [SucursalAltaId]         INT              NULL,
        [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
        [SucursalModificacionId] INT              NULL,
        [FechaAlta]              DATETIME         NULL,
        [FechaModificacion]      DATETIME         NULL;


GO
PRINT N'Altering [dbo].[Choferes]...';


GO
ALTER TABLE [dbo].[Choferes]
    ADD [OperadorAltaId]         UNIQUEIDENTIFIER NOT NULL,
        [SucursalAltaId]         INT              NOT NULL,
        [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
        [SucursalModificacionId] INT              NULL,
        [FechaAlta]              DATETIME         NULL,
        [FechaModificacion]      DATETIME         NULL;


GO
PRINT N'Altering [dbo].[Moviles]...';


GO
ALTER TABLE [dbo].[Moviles]
    ADD [FechaAlta]              DATETIME         NOT NULL,
        [OperadorAltaId]         UNIQUEIDENTIFIER NOT NULL,
        [SucursalAltaId]         INT              NOT NULL,
        [FechaModificacion]      DATETIME         NULL,
        [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
        [SucursalModificacionId] INT              NULL;


GO
PRINT N'Altering [dbo].[TiposCelulares]...';


GO
ALTER TABLE [dbo].[TiposCelulares]
    ADD [FechaAlta]              DATETIME         NOT NULL,
        [OperadorAltaId]         UNIQUEIDENTIFIER NOT NULL,
        [SucursalAltaId]         INT              NOT NULL,
        [FechaModificacion]      DATETIME         NULL,
        [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
        [SucursalModificacionId] INT              NULL;


GO
PRINT N'Creating [dbo].[CategoriasOperadores]...';


GO
CREATE TABLE [dbo].[CategoriasOperadores] (
    [Id]                     INT              IDENTITY (1, 1) NOT NULL,
    [Nombre]                 VARCHAR (50)     NULL,
    [Abreviatura]            NVARCHAR (10)    NULL,
    [Descripcion]            NVARCHAR (50)    NULL,
    [Prioridad]              INT              NULL,
    [FechaAlta]              DATETIME         NULL,
    [SucursalAltaId]         INT              NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NULL,
    [FechaModificacion]      DATETIME         NULL,
    [SucursalModificacionId] INT              NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    CONSTRAINT [PK_CategoriasOperadores] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[Conceptos]...';


GO
CREATE TABLE [dbo].[Conceptos] (
    [Id]                     INT              NOT NULL,
    [Nombre]                 VARCHAR (50)     NULL,
    [Abreviatura]            NCHAR (10)       NULL,
    [TipoConcepto]           CHAR (1)         NULL,
    [FechaAlta]              DATETIME         NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NULL,
    [SucursalAltaId]         INT              NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalModificacionId] INT              NULL,
    CONSTRAINT [PK_Conceptos] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[Funciones]...';


GO
CREATE TABLE [dbo].[Funciones] (
    [Id]                     INT              IDENTITY (1, 1) NOT NULL,
    [Descripcion]            NVARCHAR (50)    NULL,
    [kccodfunc]              NCHAR (12)       NULL,
    [Comentario]             NVARCHAR (50)    NULL,
    [DefinicionTecnica]      NVARCHAR (50)    NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalModificacionId] INT              NULL,
    [FechaAlta]              DATETIME         NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NOT NULL,
    [SucursalAltaId]         INT              NOT NULL,
    CONSTRAINT [PK_Funciones] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[Localidades]...';


GO
CREATE TABLE [dbo].[Localidades] (
    [Id]                     INT              NOT NULL,
    [Nombre]                 NVARCHAR (40)    NULL,
    [CP]                     NVARCHAR (10)    NULL,
    [ProvinciaId]            INT              NOT NULL,
    [FechaAlta]              DATETIME         NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NULL,
    [SucursalAltaId]         INT              NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalModificacionId] INT              NULL,
    CONSTRAINT [PK_Localidades_1] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[Operadores]...';


GO
CREATE TABLE [dbo].[Operadores] (
    [Id]                     UNIQUEIDENTIFIER NOT NULL,
    [Usuario]                NVARCHAR (10)    NOT NULL,
    [Clave]                  NVARCHAR (64)    NULL,
    [VigenteDesde]           DATETIME         NULL,
    [VigenteHasta]           DATETIME         NULL,
    [PersonalId]             UNIQUEIDENTIFIER NULL,
    [FechaAlta]              DATETIME         NULL,
    [SucursalAltaId]         INT              NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalModificacionId] INT              NULL,
    [Habilitado]             BIT              NOT NULL,
    CONSTRAINT [PK_Operadores_1] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[OperadoresFunciones]...';


GO
CREATE TABLE [dbo].[OperadoresFunciones] (
    [Id]                     UNIQUEIDENTIFIER NOT NULL,
    [OperadorId]             UNIQUEIDENTIFIER NOT NULL,
    [FuncionId]              INT              NOT NULL,
    [Permitido]              BIT              NULL,
    [FechaAlta]              DATETIME         NOT NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NOT NULL,
    [SucursalAltaId]         INT              NOT NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalModificacionId] INT              NULL,
    CONSTRAINT [PK_OperadoresFunciones] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[OperadoresRoles]...';


GO
CREATE TABLE [dbo].[OperadoresRoles] (
    [OpetadorId] UNIQUEIDENTIFIER NOT NULL,
    [RoleId]     INT              NOT NULL,
    PRIMARY KEY CLUSTERED ([OpetadorId] ASC, [RoleId] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[OperadoresSucursales]...';


GO
CREATE TABLE [dbo].[OperadoresSucursales] (
    [Id]                     UNIQUEIDENTIFIER NOT NULL,
    [OperadorId]             UNIQUEIDENTIFIER NOT NULL,
    [SucursalId]             INT              NOT NULL,
    [Activo]                 BIT              NULL,
    [FechaAlta]              DATETIME         NOT NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NOT NULL,
    [SucursalAltaId]         INT              NOT NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalModificacionId] INT              NULL,
    CONSTRAINT [PK_OperadoresSucursal] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[Paises]...';


GO
CREATE TABLE [dbo].[Paises] (
    [Id]          INT          NOT NULL,
    [Nombre]      VARCHAR (50) NOT NULL,
    [Abreviatura] VARCHAR (10) NULL,
    [Descripcion] VARCHAR (50) NULL,
    [Prioridad]   INT          NULL,
    CONSTRAINT [PK_Paises] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[Personal]...';


GO
CREATE TABLE [dbo].[Personal] (
    [Id]                     UNIQUEIDENTIFIER NOT NULL,
    [ContactoId]             UNIQUEIDENTIFIER NULL,
    [Nombre]                 NVARCHAR (50)    NULL,
    [Cuit]                   NVARCHAR (50)    NULL,
    [Domicilio]              NVARCHAR (100)   NULL,
    [ProvinciaId]            INT              NULL,
    [LocalidadId]            INT              NULL,
    [CategoriaId]            INT              NULL,
    [SucursalId]             INT              NULL,
    [TipoLiquidacionId]      INT              NULL,
    [Telefono]               NVARCHAR (50)    NULL,
    [Celular]                NVARCHAR (50)    NULL,
    [Fax]                    NVARCHAR (50)    NULL,
    [FechaAlta]              DATETIME         NULL,
    [HoraDesdeM]             CHAR (4)         NULL,
    [HoraHastaM]             CHAR (4)         NULL,
    [HoraDesdeT]             CHAR (4)         NULL,
    [HoraHastaT]             CHAR (4)         NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalAltaId]         INT              NULL,
    [SucursalModificacionId] INT              NULL,
    CONSTRAINT [PK_Personal] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[PersonalConcepto]...';


GO
CREATE TABLE [dbo].[PersonalConcepto] (
    [ID]                     UNIQUEIDENTIFIER NOT NULL,
    [PersonalId]             UNIQUEIDENTIFIER NOT NULL,
    [ConceptoId]             INT              NOT NULL,
    [Importe]                NCHAR (10)       NOT NULL,
    [Vigente]                BIT              NULL,
    [FechaAlta]              DATETIME         NOT NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NOT NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalAltaId]         INT              NULL,
    [SucursalModificacionId] INT              NULL,
    CONSTRAINT [PK_PersonalConcepto] PRIMARY KEY CLUSTERED ([ID] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[PersonalNovedades]...';


GO
CREATE TABLE [dbo].[PersonalNovedades] (
    [Id]                     UNIQUEIDENTIFIER NOT NULL,
    [PersonalId]             UNIQUEIDENTIFIER NOT NULL,
    [TipoNovedad]            INT              NOT NULL,
    [ConceptoId]             INT              NOT NULL,
    [Cantidad]               INT              NULL,
    [MesImputacion]          INT              NOT NULL,
    [AnioImputacion]         INT              NOT NULL,
    [Importe]                REAL             NOT NULL,
    [Total]                  REAL             NULL,
    [LiquidacionPersonalId]  UNIQUEIDENTIFIER NULL,
    [FechaAlta]              DATETIME         NOT NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NOT NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalAltaId]         INT              NULL,
    [SucursalModificacionId] INT              NULL,
    CONSTRAINT [PK_s00SueCpto] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[Provincias]...';


GO
CREATE TABLE [dbo].[Provincias] (
    [Id]                     INT              NOT NULL,
    [Nombre]                 VARCHAR (50)     NULL,
    [NombreCorto]            NCHAR (10)       NULL,
    [PaisId]                 INT              NULL,
    [FechaAlta]              DATETIME         NULL,
    [OperadorAltaId]         UNIQUEIDENTIFIER NULL,
    [SucursalAltaId]         INT              NULL,
    [FechaModificacion]      DATETIME         NULL,
    [OperadorModificacionId] UNIQUEIDENTIFIER NULL,
    [SucursalModificacionId] INT              NULL,
    CONSTRAINT [PK_Provincias_1] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[Roles]...';


GO
CREATE TABLE [dbo].[Roles] (
    [Id]          INT           IDENTITY (1, 1) NOT NULL,
    [Description] VARCHAR (100) NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating [dbo].[Sucursales]...';


GO
CREATE TABLE [dbo].[Sucursales] (
    [Id]                        INT              NOT NULL,
    [Nombre]                    NVARCHAR (30)    NULL,
    [NombreCorto]               NVARCHAR (10)    NULL,
    [ProvinciaId]               INT              NULL,
    [LocalidadId]               INT              NULL,
    [Direccion]                 NVARCHAR (50)    NULL,
    [TelPart]                   NVARCHAR (20)    NULL,
    [TelCel]                    NVARCHAR (20)    NULL,
    [Fax]                       NVARCHAR (20)    NULL,
    [Responsable]               NVARCHAR (30)    NULL,
    [OperadorModificacionId]    UNIQUEIDENTIFIER NULL,
    [FechaAlta]                 DATETIME         NULL,
    [SucursalAltaId]            INT              NULL,
    [OperadorAltaId]            UNIQUEIDENTIFIER NULL,
    [FechaModificacion]         DATETIME         NULL,
    [SucursalModificacionId]    INT              NULL,
    [MaximoImporteVenta]        MONEY            NOT NULL,
    [MaximoPorcentajeDescuento] DECIMAL (18, 2)  NOT NULL,
    [MaximoNroLineasPorVenta]   INT              NOT NULL,
    [SucursalNumero]            INT              NULL,
    CONSTRAINT [PK_s00Sucursales] PRIMARY KEY CLUSTERED ([Id] ASC) WITH (FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY];


GO
PRINT N'Creating <unnamed>...';


GO
ALTER TABLE [dbo].[Operadores]
    ADD DEFAULT ((1)) FOR [Habilitado];


GO
PRINT N'Creating <unnamed>...';


GO
ALTER TABLE [dbo].[Sucursales]
    ADD DEFAULT ((1000)) FOR [MaximoImporteVenta];


GO
PRINT N'Creating <unnamed>...';


GO
ALTER TABLE [dbo].[Sucursales]
    ADD DEFAULT ((0)) FOR [MaximoPorcentajeDescuento];


GO
PRINT N'Creating <unnamed>...';


GO
ALTER TABLE [dbo].[Sucursales]
    ADD DEFAULT ((10)) FOR [MaximoNroLineasPorVenta];


GO
PRINT N'Creating [dbo].[FK_CategoriasOperadores_OperadorAlta]...';


GO
ALTER TABLE [dbo].[CategoriasOperadores] WITH NOCHECK
    ADD CONSTRAINT [FK_CategoriasOperadores_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_CategoriasOperadores_SucursalAlta]...';


GO
ALTER TABLE [dbo].[CategoriasOperadores] WITH NOCHECK
    ADD CONSTRAINT [FK_CategoriasOperadores_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_CategoriasOperadores_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[CategoriasOperadores] WITH NOCHECK
    ADD CONSTRAINT [FK_CategoriasOperadores_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_CategoriasOperadores_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[CategoriasOperadores] WITH NOCHECK
    ADD CONSTRAINT [FK_CategoriasOperadores_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Conceptos_OperadorAlta]...';


GO
ALTER TABLE [dbo].[Conceptos] WITH NOCHECK
    ADD CONSTRAINT [FK_Conceptos_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Conceptos_SucursalAlta]...';


GO
ALTER TABLE [dbo].[Conceptos] WITH NOCHECK
    ADD CONSTRAINT [FK_Conceptos_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Conceptos_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[Conceptos] WITH NOCHECK
    ADD CONSTRAINT [FK_Conceptos_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Conceptos_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Conceptos] WITH NOCHECK
    ADD CONSTRAINT [FK_Conceptos_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Funciones_OperadorAlta]...';


GO
ALTER TABLE [dbo].[Funciones] WITH NOCHECK
    ADD CONSTRAINT [FK_Funciones_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Funciones_SucursalAlta]...';


GO
ALTER TABLE [dbo].[Funciones] WITH NOCHECK
    ADD CONSTRAINT [FK_Funciones_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Funciones_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[Funciones] WITH NOCHECK
    ADD CONSTRAINT [FK_Funciones_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Funciones_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Funciones] WITH NOCHECK
    ADD CONSTRAINT [FK_Funciones_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Localidades_OperadorAlta]...';


GO
ALTER TABLE [dbo].[Localidades] WITH NOCHECK
    ADD CONSTRAINT [FK_Localidades_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Localidades_SucursalAlta]...';


GO
ALTER TABLE [dbo].[Localidades] WITH NOCHECK
    ADD CONSTRAINT [FK_Localidades_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Localidades_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[Localidades] WITH NOCHECK
    ADD CONSTRAINT [FK_Localidades_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Localidades_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Localidades] WITH NOCHECK
    ADD CONSTRAINT [FK_Localidades_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Operadores_OperadorAlta]...';


GO
ALTER TABLE [dbo].[Operadores] WITH NOCHECK
    ADD CONSTRAINT [FK_Operadores_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Operadores_SucursalAlta]...';


GO
ALTER TABLE [dbo].[Operadores] WITH NOCHECK
    ADD CONSTRAINT [FK_Operadores_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Operadores_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[Operadores] WITH NOCHECK
    ADD CONSTRAINT [FK_Operadores_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Operadores_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Operadores] WITH NOCHECK
    ADD CONSTRAINT [FK_Operadores_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Operadores_Personal]...';


GO
ALTER TABLE [dbo].[Operadores] WITH NOCHECK
    ADD CONSTRAINT [FK_Operadores_Personal] FOREIGN KEY ([PersonalId]) REFERENCES [dbo].[Personal] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresFunciones_OperadorAlta]...';


GO
ALTER TABLE [dbo].[OperadoresFunciones] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresFunciones_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresFunciones_SucursalAlta]...';


GO
ALTER TABLE [dbo].[OperadoresFunciones] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresFunciones_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresFunciones_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[OperadoresFunciones] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresFunciones_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresFunciones_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[OperadoresFunciones] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresFunciones_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresRoles_Operadores]...';


GO
ALTER TABLE [dbo].[OperadoresRoles] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresRoles_Operadores] FOREIGN KEY ([OpetadorId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresRoles_Roles]...';


GO
ALTER TABLE [dbo].[OperadoresRoles] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresRoles_Roles] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[Roles] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresSucursal_OperadorAlta]...';


GO
ALTER TABLE [dbo].[OperadoresSucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresSucursal_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresSucursal_SucursalAlta]...';


GO
ALTER TABLE [dbo].[OperadoresSucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresSucursal_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresSucursal_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[OperadoresSucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresSucursal_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_OperadoresSucursal_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[OperadoresSucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_OperadoresSucursal_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Personal_OperadorAlta]...';


GO
ALTER TABLE [dbo].[Personal] WITH NOCHECK
    ADD CONSTRAINT [FK_Personal_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Personal_SucursalAlta]...';


GO
ALTER TABLE [dbo].[Personal] WITH NOCHECK
    ADD CONSTRAINT [FK_Personal_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Personal_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[Personal] WITH NOCHECK
    ADD CONSTRAINT [FK_Personal_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Personal_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Personal] WITH NOCHECK
    ADD CONSTRAINT [FK_Personal_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Personal_CategoriasOperadores]...';


GO
ALTER TABLE [dbo].[Personal] WITH NOCHECK
    ADD CONSTRAINT [FK_Personal_CategoriasOperadores] FOREIGN KEY ([CategoriaId]) REFERENCES [dbo].[CategoriasOperadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Personal_Localidad]...';


GO
ALTER TABLE [dbo].[Personal] WITH NOCHECK
    ADD CONSTRAINT [FK_Personal_Localidad] FOREIGN KEY ([LocalidadId]) REFERENCES [dbo].[Localidades] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Personal_Provincia]...';


GO
ALTER TABLE [dbo].[Personal] WITH NOCHECK
    ADD CONSTRAINT [FK_Personal_Provincia] FOREIGN KEY ([ProvinciaId]) REFERENCES [dbo].[Provincias] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalConcepto_OperadorAlta]...';


GO
ALTER TABLE [dbo].[PersonalConcepto] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalConcepto_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalConcepto_SucursalAlta]...';


GO
ALTER TABLE [dbo].[PersonalConcepto] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalConcepto_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalConcepto_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[PersonalConcepto] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalConcepto_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalConcepto_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[PersonalConcepto] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalConcepto_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalConcepto_Conceptos]...';


GO
ALTER TABLE [dbo].[PersonalConcepto] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalConcepto_Conceptos] FOREIGN KEY ([ConceptoId]) REFERENCES [dbo].[Conceptos] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalConcepto_Personal]...';


GO
ALTER TABLE [dbo].[PersonalConcepto] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalConcepto_Personal] FOREIGN KEY ([PersonalId]) REFERENCES [dbo].[Personal] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalNovedades_OperadorAlta]...';


GO
ALTER TABLE [dbo].[PersonalNovedades] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalNovedades_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalNovedades_SucursalAlta]...';


GO
ALTER TABLE [dbo].[PersonalNovedades] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalNovedades_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalNovedades_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[PersonalNovedades] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalNovedades_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalNovedades_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[PersonalNovedades] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalNovedades_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalNovedades_Conceptos]...';


GO
ALTER TABLE [dbo].[PersonalNovedades] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalNovedades_Conceptos] FOREIGN KEY ([ConceptoId]) REFERENCES [dbo].[Conceptos] ([Id]);


GO
PRINT N'Creating [dbo].[FK_PersonalNovedades_Personal]...';


GO
ALTER TABLE [dbo].[PersonalNovedades] WITH NOCHECK
    ADD CONSTRAINT [FK_PersonalNovedades_Personal] FOREIGN KEY ([PersonalId]) REFERENCES [dbo].[Personal] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Provincias_OperadorAlta]...';


GO
ALTER TABLE [dbo].[Provincias] WITH NOCHECK
    ADD CONSTRAINT [FK_Provincias_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Provincias_SucursalAlta]...';


GO
ALTER TABLE [dbo].[Provincias] WITH NOCHECK
    ADD CONSTRAINT [FK_Provincias_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Provincias_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[Provincias] WITH NOCHECK
    ADD CONSTRAINT [FK_Provincias_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Provincias_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Provincias] WITH NOCHECK
    ADD CONSTRAINT [FK_Provincias_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Provincias_Paises]...';


GO
ALTER TABLE [dbo].[Provincias] WITH NOCHECK
    ADD CONSTRAINT [FK_Provincias_Paises] FOREIGN KEY ([PaisId]) REFERENCES [dbo].[Paises] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Sucursales_OperadorAlta]...';


GO
ALTER TABLE [dbo].[Sucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_Sucursales_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Sucursales_SucursalAlta]...';


GO
ALTER TABLE [dbo].[Sucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_Sucursales_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Sucursales_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[Sucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_Sucursales_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Sucursales_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Sucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_Sucursales_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Sucursales_Localidades]...';


GO
ALTER TABLE [dbo].[Sucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_Sucursales_Localidades] FOREIGN KEY ([LocalidadId]) REFERENCES [dbo].[Localidades] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Sucursales_Provincias]...';


GO
ALTER TABLE [dbo].[Sucursales] WITH NOCHECK
    ADD CONSTRAINT [FK_Sucursales_Provincias] FOREIGN KEY ([ProvinciaId]) REFERENCES [dbo].[Provincias] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Celulares_OperadoresAlta]...';


GO
ALTER TABLE [dbo].[Celulares] WITH NOCHECK
    ADD CONSTRAINT [FK_Celulares_OperadoresAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Celulares_OperadoresModificacion]...';


GO
ALTER TABLE [dbo].[Celulares] WITH NOCHECK
    ADD CONSTRAINT [FK_Celulares_OperadoresModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Celulares_SucursalesAlta]...';


GO
ALTER TABLE [dbo].[Celulares] WITH NOCHECK
    ADD CONSTRAINT [FK_Celulares_SucursalesAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Celulares_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Celulares] WITH NOCHECK
    ADD CONSTRAINT [FK_Celulares_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Choferes_OperadorAlta]...';


GO
ALTER TABLE [dbo].[Choferes] WITH NOCHECK
    ADD CONSTRAINT [FK_Choferes_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Choferes_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[Choferes] WITH NOCHECK
    ADD CONSTRAINT [FK_Choferes_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Choferes_SucursalAlta]...';


GO
ALTER TABLE [dbo].[Choferes] WITH NOCHECK
    ADD CONSTRAINT [FK_Choferes_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Choferes_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Choferes] WITH NOCHECK
    ADD CONSTRAINT [FK_Choferes_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Moviles_OperadorAlta]...';


GO
ALTER TABLE [dbo].[Moviles] WITH NOCHECK
    ADD CONSTRAINT [FK_Moviles_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Moviles_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[Moviles] WITH NOCHECK
    ADD CONSTRAINT [FK_Moviles_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Moviles_SucursalAlta]...';


GO
ALTER TABLE [dbo].[Moviles] WITH NOCHECK
    ADD CONSTRAINT [FK_Moviles_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_Moviles_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[Moviles] WITH NOCHECK
    ADD CONSTRAINT [FK_Moviles_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_TiposCelulares_OperadorAlta]...';


GO
ALTER TABLE [dbo].[TiposCelulares] WITH NOCHECK
    ADD CONSTRAINT [FK_TiposCelulares_OperadorAlta] FOREIGN KEY ([OperadorAltaId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_TiposCelulares_OperadorModificacion]...';


GO
ALTER TABLE [dbo].[TiposCelulares] WITH NOCHECK
    ADD CONSTRAINT [FK_TiposCelulares_OperadorModificacion] FOREIGN KEY ([OperadorModificacionId]) REFERENCES [dbo].[Operadores] ([Id]);


GO
PRINT N'Creating [dbo].[FK_TiposCelulares_SucursalAlta]...';


GO
ALTER TABLE [dbo].[TiposCelulares] WITH NOCHECK
    ADD CONSTRAINT [FK_TiposCelulares_SucursalAlta] FOREIGN KEY ([SucursalAltaId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
PRINT N'Creating [dbo].[FK_TiposCelulares_SucursalModificacion]...';


GO
ALTER TABLE [dbo].[TiposCelulares] WITH NOCHECK
    ADD CONSTRAINT [FK_TiposCelulares_SucursalModificacion] FOREIGN KEY ([SucursalModificacionId]) REFERENCES [dbo].[Sucursales] ([Id]);


GO
-- Refactoring step to update target server with deployed transaction logs
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = 'c14adf76-5281-4638-be10-ee6b10424823')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('c14adf76-5281-4638-be10-ee6b10424823')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = 'ac18853e-bc55-455c-a1b0-0df30fbce0b0')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('ac18853e-bc55-455c-a1b0-0df30fbce0b0')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = '77328312-57cd-43f9-96d5-488c029dcf84')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('77328312-57cd-43f9-96d5-488c029dcf84')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = '24735177-edf4-4055-9f7b-328b374e6c87')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('24735177-edf4-4055-9f7b-328b374e6c87')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = 'c2ea8ddd-0d83-41a2-87e5-4e5fe7387493')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('c2ea8ddd-0d83-41a2-87e5-4e5fe7387493')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = '240c23ec-daf2-4d39-9726-a97701ced323')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('240c23ec-daf2-4d39-9726-a97701ced323')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = '054f7c37-5272-47e5-a21c-3b467c803a29')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('054f7c37-5272-47e5-a21c-3b467c803a29')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = 'ebe2b7c9-31f6-4521-b397-b39cca3af57d')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('ebe2b7c9-31f6-4521-b397-b39cca3af57d')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = '784b2354-fdb0-42dd-b933-36bfad4b6e7e')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('784b2354-fdb0-42dd-b933-36bfad4b6e7e')

GO

GO
PRINT N'Checking existing data against newly created constraints';


GO
USE [$(DatabaseName)];


GO
ALTER TABLE [dbo].[CategoriasOperadores] WITH CHECK CHECK CONSTRAINT [FK_CategoriasOperadores_OperadorAlta];

ALTER TABLE [dbo].[CategoriasOperadores] WITH CHECK CHECK CONSTRAINT [FK_CategoriasOperadores_SucursalAlta];

ALTER TABLE [dbo].[CategoriasOperadores] WITH CHECK CHECK CONSTRAINT [FK_CategoriasOperadores_OperadorModificacion];

ALTER TABLE [dbo].[CategoriasOperadores] WITH CHECK CHECK CONSTRAINT [FK_CategoriasOperadores_SucursalModificacion];

ALTER TABLE [dbo].[Conceptos] WITH CHECK CHECK CONSTRAINT [FK_Conceptos_OperadorAlta];

ALTER TABLE [dbo].[Conceptos] WITH CHECK CHECK CONSTRAINT [FK_Conceptos_SucursalAlta];

ALTER TABLE [dbo].[Conceptos] WITH CHECK CHECK CONSTRAINT [FK_Conceptos_OperadorModificacion];

ALTER TABLE [dbo].[Conceptos] WITH CHECK CHECK CONSTRAINT [FK_Conceptos_SucursalModificacion];

ALTER TABLE [dbo].[Funciones] WITH CHECK CHECK CONSTRAINT [FK_Funciones_OperadorAlta];

ALTER TABLE [dbo].[Funciones] WITH CHECK CHECK CONSTRAINT [FK_Funciones_SucursalAlta];

ALTER TABLE [dbo].[Funciones] WITH CHECK CHECK CONSTRAINT [FK_Funciones_OperadorModificacion];

ALTER TABLE [dbo].[Funciones] WITH CHECK CHECK CONSTRAINT [FK_Funciones_SucursalModificacion];

ALTER TABLE [dbo].[Localidades] WITH CHECK CHECK CONSTRAINT [FK_Localidades_OperadorAlta];

ALTER TABLE [dbo].[Localidades] WITH CHECK CHECK CONSTRAINT [FK_Localidades_SucursalAlta];

ALTER TABLE [dbo].[Localidades] WITH CHECK CHECK CONSTRAINT [FK_Localidades_OperadorModificacion];

ALTER TABLE [dbo].[Localidades] WITH CHECK CHECK CONSTRAINT [FK_Localidades_SucursalModificacion];

ALTER TABLE [dbo].[Operadores] WITH CHECK CHECK CONSTRAINT [FK_Operadores_OperadorAlta];

ALTER TABLE [dbo].[Operadores] WITH CHECK CHECK CONSTRAINT [FK_Operadores_SucursalAlta];

ALTER TABLE [dbo].[Operadores] WITH CHECK CHECK CONSTRAINT [FK_Operadores_OperadorModificacion];

ALTER TABLE [dbo].[Operadores] WITH CHECK CHECK CONSTRAINT [FK_Operadores_SucursalModificacion];

ALTER TABLE [dbo].[Operadores] WITH CHECK CHECK CONSTRAINT [FK_Operadores_Personal];

ALTER TABLE [dbo].[OperadoresFunciones] WITH CHECK CHECK CONSTRAINT [FK_OperadoresFunciones_OperadorAlta];

ALTER TABLE [dbo].[OperadoresFunciones] WITH CHECK CHECK CONSTRAINT [FK_OperadoresFunciones_SucursalAlta];

ALTER TABLE [dbo].[OperadoresFunciones] WITH CHECK CHECK CONSTRAINT [FK_OperadoresFunciones_OperadorModificacion];

ALTER TABLE [dbo].[OperadoresFunciones] WITH CHECK CHECK CONSTRAINT [FK_OperadoresFunciones_SucursalModificacion];

ALTER TABLE [dbo].[OperadoresRoles] WITH CHECK CHECK CONSTRAINT [FK_OperadoresRoles_Operadores];

ALTER TABLE [dbo].[OperadoresRoles] WITH CHECK CHECK CONSTRAINT [FK_OperadoresRoles_Roles];

ALTER TABLE [dbo].[OperadoresSucursales] WITH CHECK CHECK CONSTRAINT [FK_OperadoresSucursal_OperadorAlta];

ALTER TABLE [dbo].[OperadoresSucursales] WITH CHECK CHECK CONSTRAINT [FK_OperadoresSucursal_SucursalAlta];

ALTER TABLE [dbo].[OperadoresSucursales] WITH CHECK CHECK CONSTRAINT [FK_OperadoresSucursal_OperadorModificacion];

ALTER TABLE [dbo].[OperadoresSucursales] WITH CHECK CHECK CONSTRAINT [FK_OperadoresSucursal_SucursalModificacion];

ALTER TABLE [dbo].[Personal] WITH CHECK CHECK CONSTRAINT [FK_Personal_OperadorAlta];

ALTER TABLE [dbo].[Personal] WITH CHECK CHECK CONSTRAINT [FK_Personal_SucursalAlta];

ALTER TABLE [dbo].[Personal] WITH CHECK CHECK CONSTRAINT [FK_Personal_OperadorModificacion];

ALTER TABLE [dbo].[Personal] WITH CHECK CHECK CONSTRAINT [FK_Personal_SucursalModificacion];

ALTER TABLE [dbo].[Personal] WITH CHECK CHECK CONSTRAINT [FK_Personal_CategoriasOperadores];

ALTER TABLE [dbo].[Personal] WITH CHECK CHECK CONSTRAINT [FK_Personal_Localidad];

ALTER TABLE [dbo].[Personal] WITH CHECK CHECK CONSTRAINT [FK_Personal_Provincia];

ALTER TABLE [dbo].[PersonalConcepto] WITH CHECK CHECK CONSTRAINT [FK_PersonalConcepto_OperadorAlta];

ALTER TABLE [dbo].[PersonalConcepto] WITH CHECK CHECK CONSTRAINT [FK_PersonalConcepto_SucursalAlta];

ALTER TABLE [dbo].[PersonalConcepto] WITH CHECK CHECK CONSTRAINT [FK_PersonalConcepto_OperadorModificacion];

ALTER TABLE [dbo].[PersonalConcepto] WITH CHECK CHECK CONSTRAINT [FK_PersonalConcepto_SucursalModificacion];

ALTER TABLE [dbo].[PersonalConcepto] WITH CHECK CHECK CONSTRAINT [FK_PersonalConcepto_Conceptos];

ALTER TABLE [dbo].[PersonalConcepto] WITH CHECK CHECK CONSTRAINT [FK_PersonalConcepto_Personal];

ALTER TABLE [dbo].[PersonalNovedades] WITH CHECK CHECK CONSTRAINT [FK_PersonalNovedades_OperadorAlta];

ALTER TABLE [dbo].[PersonalNovedades] WITH CHECK CHECK CONSTRAINT [FK_PersonalNovedades_SucursalAlta];

ALTER TABLE [dbo].[PersonalNovedades] WITH CHECK CHECK CONSTRAINT [FK_PersonalNovedades_OperadorModificacion];

ALTER TABLE [dbo].[PersonalNovedades] WITH CHECK CHECK CONSTRAINT [FK_PersonalNovedades_SucursalModificacion];

ALTER TABLE [dbo].[PersonalNovedades] WITH CHECK CHECK CONSTRAINT [FK_PersonalNovedades_Conceptos];

ALTER TABLE [dbo].[PersonalNovedades] WITH CHECK CHECK CONSTRAINT [FK_PersonalNovedades_Personal];

ALTER TABLE [dbo].[Provincias] WITH CHECK CHECK CONSTRAINT [FK_Provincias_OperadorAlta];

ALTER TABLE [dbo].[Provincias] WITH CHECK CHECK CONSTRAINT [FK_Provincias_SucursalAlta];

ALTER TABLE [dbo].[Provincias] WITH CHECK CHECK CONSTRAINT [FK_Provincias_OperadorModificacion];

ALTER TABLE [dbo].[Provincias] WITH CHECK CHECK CONSTRAINT [FK_Provincias_SucursalModificacion];

ALTER TABLE [dbo].[Provincias] WITH CHECK CHECK CONSTRAINT [FK_Provincias_Paises];

ALTER TABLE [dbo].[Sucursales] WITH CHECK CHECK CONSTRAINT [FK_Sucursales_OperadorAlta];

ALTER TABLE [dbo].[Sucursales] WITH CHECK CHECK CONSTRAINT [FK_Sucursales_SucursalAlta];

ALTER TABLE [dbo].[Sucursales] WITH CHECK CHECK CONSTRAINT [FK_Sucursales_OperadorModificacion];

ALTER TABLE [dbo].[Sucursales] WITH CHECK CHECK CONSTRAINT [FK_Sucursales_SucursalModificacion];

ALTER TABLE [dbo].[Sucursales] WITH CHECK CHECK CONSTRAINT [FK_Sucursales_Localidades];

ALTER TABLE [dbo].[Sucursales] WITH CHECK CHECK CONSTRAINT [FK_Sucursales_Provincias];

ALTER TABLE [dbo].[Celulares] WITH CHECK CHECK CONSTRAINT [FK_Celulares_OperadoresAlta];

ALTER TABLE [dbo].[Celulares] WITH CHECK CHECK CONSTRAINT [FK_Celulares_OperadoresModificacion];

ALTER TABLE [dbo].[Celulares] WITH CHECK CHECK CONSTRAINT [FK_Celulares_SucursalesAlta];

ALTER TABLE [dbo].[Celulares] WITH CHECK CHECK CONSTRAINT [FK_Celulares_SucursalModificacion];

ALTER TABLE [dbo].[Choferes] WITH CHECK CHECK CONSTRAINT [FK_Choferes_OperadorAlta];

ALTER TABLE [dbo].[Choferes] WITH CHECK CHECK CONSTRAINT [FK_Choferes_OperadorModificacion];

ALTER TABLE [dbo].[Choferes] WITH CHECK CHECK CONSTRAINT [FK_Choferes_SucursalAlta];

ALTER TABLE [dbo].[Choferes] WITH CHECK CHECK CONSTRAINT [FK_Choferes_SucursalModificacion];

ALTER TABLE [dbo].[Moviles] WITH CHECK CHECK CONSTRAINT [FK_Moviles_OperadorAlta];

ALTER TABLE [dbo].[Moviles] WITH CHECK CHECK CONSTRAINT [FK_Moviles_OperadorModificacion];

ALTER TABLE [dbo].[Moviles] WITH CHECK CHECK CONSTRAINT [FK_Moviles_SucursalAlta];

ALTER TABLE [dbo].[Moviles] WITH CHECK CHECK CONSTRAINT [FK_Moviles_SucursalModificacion];

ALTER TABLE [dbo].[TiposCelulares] WITH CHECK CHECK CONSTRAINT [FK_TiposCelulares_OperadorAlta];

ALTER TABLE [dbo].[TiposCelulares] WITH CHECK CHECK CONSTRAINT [FK_TiposCelulares_OperadorModificacion];

ALTER TABLE [dbo].[TiposCelulares] WITH CHECK CHECK CONSTRAINT [FK_TiposCelulares_SucursalAlta];

ALTER TABLE [dbo].[TiposCelulares] WITH CHECK CHECK CONSTRAINT [FK_TiposCelulares_SucursalModificacion];


GO
PRINT N'Update complete.';


GO
